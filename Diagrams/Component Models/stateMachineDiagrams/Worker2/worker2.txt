title News Letter Handler Background Process
loop Main
alt if(state == initialize)
    Resque->Worker: initialize()
    Worker->Worker: state = waiting
else if(state == preparing)
    Worker->News Letter Controller: preform()
    News Letter Controller->Queue:populate queue
    Worker->Worker: state = working
else if(state == working)
    Worker->Queue: dequeue()
    Queue-->Worker: recieve task
    Worker->Worker: task.preform()
    alt if queue is empty
        Worker->Worker:state = waiting
    end
else if(state == waiting)
    alt if waited for 5+ minutes
        Worker->Worker:state = preparing
    end
end
